import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:go_router/go_router.dart';

import '../counter_bloc.dart';
import '../responsive/desktop_scaffold.dart';
import '../responsive/mobile_scaffold.dart';
import '../responsive/responsive_layout.dart';
import '../responsive/tablet_scaffold.dart';

class HomePage extends StatefulWidget {
  const HomePage({super.key});

  @override
  State<HomePage> createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {

  void submitModal() {
    Navigator.of(context).pop();
  }
  
  void handlerNav(index) {
    switch (index) {
      case 0:
        return context.go('/users');
      case 1: 
        return context.go('/');
      case 2:
        return context.go('/');
      case 3:
        return context.go('/');
      case 4:
        return context.go('/');
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: const Color.fromARGB(255, 0, 0, 0),
        title: InkWell(                        
          child: Container(
            child: SizedBox(
              width: 20.0,
              child: SvgPicture.string('''<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <g id="ic:twotone-log-in">
                <path id="Vector" d="M10.0002 1.33337H4.00016C3.26683 1.33337 2.66683 1.93337 2.66683 2.66671V13.3334C2.66683 14.0667 3.26683 14.6667 4.00016 14.6667H10.0002C10.7335 14.6667 11.3335 14.0667 11.3335 13.3334V12H10.0002V13.3334H4.00016V2.66671H10.0002V4.00004H11.3335V2.66671C11.3335 1.93337 10.7335 1.33337 10.0002 1.33337Z" fill="white"/>
                <path id="Vector_2" d="M9.27333 10.3933L8.33333 11.3333L5 7.99996L8.33333 4.66663L9.27333 5.60663L7.55333 7.33329H14V8.66663H7.55333L9.27333 10.3933Z" fill="white"/>
                </g>
                </svg>'''
              ),
            ) 
          ),                        
          onTap: () {
            return context.go('/');
          },                      
        ),
        actions: [
          InkWell(                        
          child: Container(
            margin: const EdgeInsets.only(right: 20.0),
            child: SizedBox(
              width: 16.0,
              child: SvgPicture.string('''<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <g id="ant-design:share-alt-outlined">
                <path id="Vector" d="M11.75 10.375C11.3047 10.375 10.8937 10.5312 10.5719 10.7922L7.33437 8.45C7.38859 8.15245 7.38859 7.84755 7.33437 7.55L10.5719 5.20781C10.8937 5.46875 11.3047 5.625 11.75 5.625C12.7844 5.625 13.625 4.78437 13.625 3.75C13.625 2.71563 12.7844 1.875 11.75 1.875C10.7156 1.875 9.875 2.71563 9.875 3.75C9.875 3.93125 9.9 4.10469 9.94844 4.27031L6.87344 6.49687C6.41719 5.89219 5.69219 5.5 4.875 5.5C3.49375 5.5 2.375 6.61875 2.375 8C2.375 9.38125 3.49375 10.5 4.875 10.5C5.69219 10.5 6.41719 10.1078 6.87344 9.50313L9.94844 11.7297C9.9 11.8953 9.875 12.0703 9.875 12.25C9.875 13.2844 10.7156 14.125 11.75 14.125C12.7844 14.125 13.625 13.2844 13.625 12.25C13.625 11.2156 12.7844 10.375 11.75 10.375ZM11.75 2.9375C12.1984 2.9375 12.5625 3.30156 12.5625 3.75C12.5625 4.19844 12.1984 4.5625 11.75 4.5625C11.3016 4.5625 10.9375 4.19844 10.9375 3.75C10.9375 3.30156 11.3016 2.9375 11.75 2.9375ZM4.875 9.375C4.11719 9.375 3.5 8.75781 3.5 8C3.5 7.24219 4.11719 6.625 4.875 6.625C5.63281 6.625 6.25 7.24219 6.25 8C6.25 8.75781 5.63281 9.375 4.875 9.375ZM11.75 13.0625C11.3016 13.0625 10.9375 12.6984 10.9375 12.25C10.9375 11.8016 11.3016 11.4375 11.75 11.4375C12.1984 11.4375 12.5625 11.8016 12.5625 12.25C12.5625 12.6984 12.1984 13.0625 11.75 13.0625Z" fill="white"/>
                </g>
                </svg>'''
              ),
            ) 
          ),                        
          onTap: () {
            return context.go('/');
          },                      
        )
        ],
      ),
      body: 
      // BlocBuilder<CounterBloc, int> (
      //   builder: (context, state) { 
      //     return Column(
      //       children: [
      //         Text(state.toString()),
      //         InkWell(
      //           onTap: () {
      //             bloc.add(CounterIncEvent());
      //           },
      //           child: Text('+1'),
      //         ),
      //         InkWell(
      //           onTap: () {
      //             bloc.add(CounterDecEvent());
      //           },
      //           child: Text('-1'),
      //         )
      //       ]
      //     );
      //   }
      // ),
      ResponsiveLayout(
        mobileScaffold: MobileScaffold(),
        tabletScaffold: TabletScaffold(),
        desktopScaffold: DesktopScaffold(),
      ),
      bottomNavigationBar: BottomNavigationBar(
        type: BottomNavigationBarType.fixed,
        showSelectedLabels: false,   // <-- HERE
        showUnselectedLabels: false,
        landscapeLayout: BottomNavigationBarLandscapeLayout.centered,
        backgroundColor: Colors.black,
        onTap: (index) {handlerNav(index);},
        items: [
          BottomNavigationBarItem(
            icon: SvgPicture.string('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="14" viewBox="0 0 16 14" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.18062 0.429087L3.17188 0.858173L1.58594 0.866889L0 0.875606V1.25647C0 4.84319 1.7835 7.26284 4.44153 7.28225L4.96119 7.28606L5.16344 7.55529C5.63103 8.17775 6.23841 8.70962 6.80166 8.98985L7.0625 9.11962V10.3483V11.5769H5.90625H4.75V12.351V13.125H4.35938H3.96875V13.5625V14H8H12.0312V13.5625V13.125H11.6406H11.25V12.351V11.5769H10.0938H8.9375V10.3483V9.11962L9.19834 8.98985C9.76159 8.70962 10.369 8.17775 10.8366 7.55529L11.0388 7.28606L11.5585 7.28225C14.2153 7.26284 16 4.84148 16 1.25647V0.875606L14.4141 0.866889L12.8281 0.858173L12.8194 0.429087L12.8106 0H8H3.18937L3.18062 0.429087ZM3.28809 2.47356C3.43244 3.73985 3.69809 4.77723 4.12612 5.74639L4.30822 6.15865H4.20444C3.39272 6.15865 2.47503 5.60575 1.97009 4.8125C1.53672 4.13162 1.09534 2.7371 1.09388 2.04403C1.09375 1.98834 1.15937 1.98524 2.16406 1.99355L3.23438 2.0024L3.28809 2.47356ZM14.9062 2.04955C14.9062 4.11243 13.356 6.15865 11.7931 6.15865H11.6869L11.824 5.86418C12.2734 4.89929 12.5903 3.67524 12.7194 2.40625C12.7401 2.20264 12.7633 2.02468 12.771 2.01082C12.8075 1.94475 14.9062 1.98282 14.9062 2.04955Z" fill="white"></path></svg>',),
            label: '',
          ),
          BottomNavigationBarItem(
            icon: SvgPicture.string('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M3.19995 8.60001C3.19995 8.44088 3.26317 8.28827 3.37569 8.17575C3.48821 8.06322 3.64082 8.00001 3.79995 8.00001H3.80795C3.96708 8.00001 4.11969 8.06322 4.23222 8.17575C4.34474 8.28827 4.40795 8.44088 4.40795 8.60001V8.60801C4.40795 8.76714 4.34474 8.91975 4.23222 9.03227C4.11969 9.1448 3.96708 9.20801 3.80795 9.20801H3.79995C3.64082 9.20801 3.48821 9.1448 3.37569 9.03227C3.26317 8.91975 3.19995 8.76714 3.19995 8.60801V8.60001ZM3.79995 9.60001C3.64082 9.60001 3.48821 9.66322 3.37569 9.77575C3.26317 9.88827 3.19995 10.0409 3.19995 10.2V10.208C3.19995 10.5392 3.46875 10.808 3.79995 10.808H3.80795C3.96708 10.808 4.11969 10.7448 4.23222 10.6323C4.34474 10.5198 4.40795 10.3671 4.40795 10.208V10.2C4.40795 10.0409 4.34474 9.88827 4.23222 9.77575C4.11969 9.66322 3.96708 9.60001 3.80795 9.60001H3.79995ZM4.79995 8.60001C4.79995 8.44088 4.86317 8.28827 4.97569 8.17575C5.08821 8.06322 5.24082 8.00001 5.39995 8.00001H5.40795C5.56708 8.00001 5.71969 8.06322 5.83222 8.17575C5.94474 8.28827 6.00795 8.44088 6.00795 8.60001V8.60801C6.00795 8.76714 5.94474 8.91975 5.83222 9.03227C5.71969 9.1448 5.56708 9.20801 5.40795 9.20801H5.39995C5.24082 9.20801 5.08821 9.1448 4.97569 9.03227C4.86317 8.91975 4.79995 8.76714 4.79995 8.60801V8.60001ZM5.39995 9.60001C5.24082 9.60001 5.08821 9.66322 4.97569 9.77575C4.86317 9.88827 4.79995 10.0409 4.79995 10.2V10.208C4.79995 10.5392 5.06875 10.808 5.39995 10.808H5.40795C5.56708 10.808 5.71969 10.7448 5.83222 10.6323C5.94474 10.5198 6.00795 10.3671 6.00795 10.208V10.2C6.00795 10.0409 5.94474 9.88827 5.83222 9.77575C5.71969 9.66322 5.56708 9.60001 5.40795 9.60001H5.39995ZM6.39995 7.00001C6.39995 6.84088 6.46317 6.68827 6.57569 6.57575C6.68821 6.46322 6.84082 6.40001 6.99995 6.40001H7.00795C7.16708 6.40001 7.31969 6.46322 7.43222 6.57575C7.54474 6.68827 7.60795 6.84088 7.60795 7.00001V7.00801C7.60795 7.16714 7.54474 7.31975 7.43222 7.43227C7.31969 7.5448 7.16708 7.60801 7.00795 7.60801H6.99995C6.84082 7.60801 6.68821 7.5448 6.57569 7.43227C6.46317 7.31975 6.39995 7.16714 6.39995 7.00801V7.00001ZM6.99995 8.00001C6.84082 8.00001 6.68821 8.06322 6.57569 8.17575C6.46317 8.28827 6.39995 8.44088 6.39995 8.60001V8.60801C6.39995 8.93921 6.66875 9.20801 6.99995 9.20801H7.00795C7.16708 9.20801 7.31969 9.1448 7.43222 9.03227C7.54474 8.91975 7.60795 8.76714 7.60795 8.60801V8.60001C7.60795 8.44088 7.54474 8.28827 7.43222 8.17575C7.31969 8.06322 7.16708 8.00001 7.00795 8.00001H6.99995ZM6.39995 10.2C6.39995 10.0409 6.46317 9.88827 6.57569 9.77575C6.68821 9.66322 6.84082 9.60001 6.99995 9.60001H7.00795C7.16708 9.60001 7.31969 9.66322 7.43222 9.77575C7.54474 9.88827 7.60795 10.0409 7.60795 10.2V10.208C7.60795 10.3671 7.54474 10.5198 7.43222 10.6323C7.31969 10.7448 7.16708 10.808 7.00795 10.808H6.99995C6.84082 10.808 6.68821 10.7448 6.57569 10.6323C6.46317 10.5198 6.39995 10.3671 6.39995 10.208V10.2ZM8.59995 6.40001C8.44082 6.40001 8.28821 6.46322 8.17569 6.57575C8.06317 6.68827 7.99995 6.84088 7.99995 7.00001V7.00801C7.99995 7.33921 8.26875 7.60801 8.59995 7.60801H8.60795C8.76708 7.60801 8.91969 7.5448 9.03222 7.43227C9.14474 7.31975 9.20795 7.16714 9.20795 7.00801V7.00001C9.20795 6.84088 9.14474 6.68827 9.03222 6.57575C8.91969 6.46322 8.76708 6.40001 8.60795 6.40001H8.59995ZM7.99995 8.60001C7.99995 8.44088 8.06317 8.28827 8.17569 8.17575C8.28821 8.06322 8.44082 8.00001 8.59995 8.00001H8.60795C8.76708 8.00001 8.91969 8.06322 9.03222 8.17575C9.14474 8.28827 9.20795 8.44088 9.20795 8.60001V8.60801C9.20795 8.76714 9.14474 8.91975 9.03222 9.03227C8.91969 9.1448 8.76708 9.20801 8.60795 9.20801H8.59995C8.44082 9.20801 8.28821 9.1448 8.17569 9.03227C8.06317 8.91975 7.99995 8.76714 7.99995 8.60801V8.60001ZM8.59995 9.60001C8.44082 9.60001 8.28821 9.66322 8.17569 9.77575C8.06317 9.88827 7.99995 10.0409 7.99995 10.2V10.208C7.99995 10.5392 8.26875 10.808 8.59995 10.808H8.60795C8.76708 10.808 8.91969 10.7448 9.03222 10.6323C9.14474 10.5198 9.20795 10.3671 9.20795 10.208V10.2C9.20795 10.0409 9.14474 9.88827 9.03222 9.77575C8.91969 9.66322 8.76708 9.60001 8.60795 9.60001H8.59995ZM9.59995 7.00001C9.59995 6.84088 9.66317 6.68827 9.77569 6.57575C9.88821 6.46322 10.0408 6.40001 10.2 6.40001H10.208C10.3671 6.40001 10.5197 6.46322 10.6322 6.57575C10.7447 6.68827 10.808 6.84088 10.808 7.00001V7.00801C10.808 7.16714 10.7447 7.31975 10.6322 7.43227C10.5197 7.5448 10.3671 7.60801 10.208 7.60801H10.2C10.0408 7.60801 9.88821 7.5448 9.77569 7.43227C9.66317 7.31975 9.59995 7.16714 9.59995 7.00801V7.00001ZM10.2 8.00001C10.0408 8.00001 9.88821 8.06322 9.77569 8.17575C9.66317 8.28827 9.59995 8.44088 9.59995 8.60001V8.60801C9.59995 8.93921 9.86875 9.20801 10.2 9.20801H10.208C10.3671 9.20801 10.5197 9.1448 10.6322 9.03227C10.7447 8.91975 10.808 8.76714 10.808 8.60801V8.60001C10.808 8.44088 10.7447 8.28827 10.6322 8.17575C10.5197 8.06322 10.3671 8.00001 10.208 8.00001H10.2Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M3.59998 0.600006C3.75911 0.600006 3.91172 0.66322 4.02424 0.775742C4.13676 0.888264 4.19998 1.04088 4.19998 1.20001V2.20001H9.79998V1.20001C9.79998 1.04088 9.86319 0.888264 9.97571 0.775742C10.0882 0.66322 10.2408 0.600006 10.4 0.600006C10.5591 0.600006 10.7117 0.66322 10.8242 0.775742C10.9368 0.888264 11 1.04088 11 1.20001V2.20001H11.2C11.7835 2.20001 12.343 2.43179 12.7556 2.84437C13.1682 3.25695 13.4 3.81653 13.4 4.40001V11.2C13.4 11.7835 13.1682 12.3431 12.7556 12.7556C12.343 13.1682 11.7835 13.4 11.2 13.4H2.79998C2.2165 13.4 1.65692 13.1682 1.24434 12.7556C0.831761 12.3431 0.599976 11.7835 0.599976 11.2V4.40001C0.599976 3.81653 0.831761 3.25695 1.24434 2.84437C1.65692 2.43179 2.2165 2.20001 2.79998 2.20001H2.99998V1.20001C2.99998 1.04088 3.06319 0.888264 3.17571 0.775742C3.28823 0.66322 3.44085 0.600006 3.59998 0.600006ZM2.79998 5.00001C2.24798 5.00001 1.79998 5.44801 1.79998 6.00001V11.2C1.79998 11.752 2.24798 12.2 2.79998 12.2H11.2C11.752 12.2 12.2 11.752 12.2 11.2V6.00001C12.2 5.44801 11.752 5.00001 11.2 5.00001H2.79998Z" fill="white"></path></svg>'),
            label: ''
          ),
          BottomNavigationBarItem(
            icon: SvgPicture.string('<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none"><path d="M10 2.5L13 13M7 2.5V13M4 4V13M1 1V13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
            label: ''
          ),
          BottomNavigationBarItem(
            icon: SvgPicture.string('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="14" viewBox="0 0 16 14" fill="none"><path d="M7.12441 3.99076L7.12441 3.99093C7.2133 3.99293 7.30085 4.01311 7.38126 4.05026C7.46004 4.08666 7.53032 4.1386 7.58747 4.20294L10.5358 6.95137L11.2774 6.11204L11.2775 6.11197L11.3524 6.17818C11.4004 6.12384 11.459 6.07918 11.5251 6.04679C11.5911 6.01441 11.6632 5.99495 11.7371 5.98954C11.811 5.98412 11.8853 5.99287 11.9557 6.01526C12.026 6.03766 12.0911 6.07326 12.147 6.12L7.12441 3.99076ZM7.12441 3.99076L7.11854 3.99097C7.02738 3.99428 6.93779 4.01561 6.85534 4.05377C6.77287 4.09192 6.6992 4.14615 6.63905 4.21326L6.63823 4.21418L4.50541 6.65369V3C4.50541 2.78673 4.59353 2.58135 4.75176 2.42928C4.91013 2.27708 5.12574 2.19091 5.35135 2.19091H12.9189C13.1445 2.19091 13.3601 2.27708 13.5185 2.42928C13.6767 2.58135 13.7649 2.78673 13.7649 3V7.29962L12.2111 6.04326C12.2109 6.04308 12.2107 6.04289 12.2105 6.04271L7.12441 3.99076ZM12.9189 0.9H5.35135C4.77415 0.9 4.21982 1.12032 3.81051 1.51369C3.40107 1.90718 3.17027 2.44173 3.17027 3V3.08182H3.08108C2.50388 3.08182 1.94955 3.30214 1.54024 3.6955C1.1308 4.089 0.9 4.62355 0.9 5.18182V11C0.9 11.5583 1.1308 12.0928 1.54024 12.4863C1.94955 12.8797 2.50388 13.1 3.08108 13.1H10.6486C11.2259 13.1 11.7802 12.8797 12.1895 12.4863C12.5989 12.0928 12.8297 11.5583 12.8297 11V10.9182H12.9189C13.4961 10.9182 14.0504 10.6979 14.4598 10.3045C14.8692 9.91101 15.1 9.37645 15.1 8.81818V3C15.1 2.44173 14.8692 1.90718 14.4598 1.51368C14.0504 1.12032 13.4961 0.9 12.9189 0.9ZM5.35135 9.62727C5.12574 9.62727 4.91013 9.5411 4.75176 9.3889C4.59353 9.23684 4.50541 9.03146 4.50541 8.81818V8.63786L7.18928 5.60173L9.66209 7.93012L8.16672 9.62727H5.35135ZM11.4946 11C11.4946 11.2133 11.4065 11.4187 11.2482 11.5707C11.0899 11.7229 10.8743 11.8091 10.6486 11.8091H3.08108C2.85547 11.8091 2.63986 11.7229 2.48149 11.5707C2.32326 11.4187 2.23514 11.2133 2.23514 11V5.18182C2.23514 4.96855 2.32326 4.76316 2.48149 4.6111C2.63986 4.4589 2.85547 4.37273 3.08108 4.37273H3.17027V8.81818C3.17027 9.37645 3.40107 9.91101 3.81051 10.3045C4.21982 10.6979 4.77415 10.9182 5.35135 10.9182H11.4946V11ZM12.9186 9.62727L9.9247 9.62727L11.8632 7.43636L13.7355 8.96209C13.7053 9.13692 13.6147 9.29819 13.4764 9.41912C13.3244 9.55203 13.1258 9.62654 12.9189 9.62727C12.9188 9.62727 12.9187 9.62727 12.9186 9.62727Z" fill="white" stroke="white" stroke-width="0.2"></path></svg>'),
            label: ''
          ),
          BottomNavigationBarItem(
            icon: SvgPicture.string('<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="40" height="40" rx="20" fill="url(#paint0_linear_668_9319)"></rect><path d="M17.5 15C17.0391 15 16.6667 15.383 16.6667 15.8571V21H15.8333C15.3724 21 15 21.383 15 21.8571C15 22.3313 15.3724 22.7143 15.8333 22.7143H16.6667V23.5714H15.8333C15.3724 23.5714 15 23.9545 15 24.4286C15 24.9027 15.3724 25.2857 15.8333 25.2857H16.6667V26.1429C16.6667 26.617 17.0391 27 17.5 27C17.9609 27 18.3333 26.617 18.3333 26.1429V25.2857H22.5C22.9609 25.2857 23.3333 24.9027 23.3333 24.4286C23.3333 23.9545 22.9609 23.5714 22.5 23.5714H18.3333V22.7143H21.25C23.3203 22.7143 25 20.9866 25 18.8571C25 16.7277 23.3203 15 21.25 15H17.5ZM21.25 21H18.3333V16.7143H21.25C22.401 16.7143 23.3333 17.6732 23.3333 18.8571C23.3333 20.0411 22.401 21 21.25 21Z" fill="white"></path><defs><linearGradient id="paint0_linear_668_9319" x1="0" y1="40" x2="40" y2="40" gradientUnits="userSpaceOnUse"><stop stop-color="#7000FF"></stop><stop offset="1" stop-color="#0500FF"></stop></linearGradient></defs></svg>'),
            label: ''
          ),
        ]
      )
    );
  }

  Future openModal() => showDialog(
    context: context, 
    builder: (context) => AlertDialog(
      title: Text('Hi modal'),
      content: Text('Hi modalHi modalHi modalHi modalHi modalHi modalHi modal'),
      actions: [
        TextButton(
          onPressed: submitModal, 
          child: Text('GO!')
        )
      ],
    )
  );
}
